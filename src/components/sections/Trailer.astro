---
import { getImage } from 'astro:assets';
import { trailer } from '../../data/content';
import Section from '../layout/Section.astro';
import Heading from '../ui/Heading.astro';
import VideoEmbed from '../ui/VideoEmbed.astro';
import FadeIn from '../animation/FadeIn.astro';
import ScrollReveal from '../animation/ScrollReveal.astro';
import heroBanner from '../../assets/hero/hero-banner.jpg';

const optimizedThumbnail = await getImage({
  src: heroBanner,
  width: 1280,
  height: 720,
  format: 'webp',
  quality: 95
});
---

<Section id="trailer" variant="default" padding="xl">
  <div class="max-w-5xl mx-auto">
    <FadeIn>
      <Heading level={2} size="h2" class="text-center mb-12">
        {trailer.title}
      </Heading>
    </FadeIn>

    <ScrollReveal animation="scale">
      <VideoEmbed
        videoId={trailer.videoId}
        title={trailer.thumbnailAlt}
        thumbnailUrl={optimizedThumbnail.src}
        class="shadow-2xl"
      />
    </ScrollReveal>
  </div>
</Section>

